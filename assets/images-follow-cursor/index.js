!function(){let t={setAttrParents:function t(e,r){document.querySelectorAll(`[${e}]`).forEach(t=>{let n=function t(e,r){let n=e;for(;n.parentElement;){if(n.parentElement.tagName.toLowerCase()===r.toLowerCase())return n.parentElement;n=n.parentElement}return null}(t,r);n&&n.setAttribute(e,"")})},fetchData:function t(e){return fetch(e+"?format=json-pretty").then(t=>t.json())}};!function(e,r){let n=!1;t.setAttrParents(r,"section");let a=document.querySelector(`section[${r}]`),l=a.querySelector(".fluid-engine");a.querySelector(".content-wrapper"),l.style.position="static";let i=a.querySelector(`div[${r}`),o=document.createElement("div");o.setAttribute("class","animation-inner-box");let s=function r(){let l=document.createElement("ul");return l.setAttribute("class","pic-list"),t.fetchData(e).then(t=>(function t(e){let r=[];for(let n=0;n<e.length;n++){let a=e[n].assetUrl,l=`
                    <li class="pic-item" data-hidden>
                    <img src=${a} alt="">
                </li>
`;r.push(l)}return r.join("")})(t.items)).then(t=>(l.innerHTML=t,function t(e){let r=Array.from(e.querySelectorAll(".pic-item img"));return Promise.all(r.map(t=>{var e;return e=t.src,new Promise((t,r)=>{let n=new Image;n.onload=t,n.onerror=r,n.src=e})}))}(l))).then(()=>{(function t(e){let r=e.querySelectorAll(".pic-item");r.forEach(t=>{t.removeAttribute("data-hidden"),t.classList.add("rotate-item")})})(s),function t(e){let r=document.querySelector(".pic-list");if(n)return;n=!0;let l=Array.from(e.querySelectorAll(".pic-item")),i=l.map((t,e)=>{var r,n,a;let l;return r=t,n=200*e,a=e,new Promise((t,e)=>{l=a%2==0?[{transform:"translateY(300%) rotate(-5deg)"},{transform:"translateY(5%) rotate(-5deg)"},]:[{transform:"translateY(300%) rotate(5deg)"},{transform:"translateY(5%) rotate(5deg)"},];let i=r.animate(l,{delay:n,duration:600,easing:"cubic-bezier(0.25, 0.8, 0.25, 1)",fill:"backwards"});i.onfinish=e=>{t()},i.oncancel=()=>{t()}})});Promise.all(i).then(()=>{n=!1;let t=r.animate([{transform:"scale(1)"},{transform:"scale(0)"}],{duration:500,easing:"cubic-bezier(0.65, 0, 0.35, 1)"});t.onfinish=()=>{r.classList.remove("rotate-items");let t=a.querySelectorAll(".pic-item");t.forEach(t=>{t.setAttribute("data-hidden",""),t.classList.remove("rotate-item")}),function t(){let e=document.querySelector("div[data-pic-animation]"),r=!1;parseFloat(a.style.paddingTop);let n=a.querySelectorAll(".pic-item");e.addEventListener("mousemove",t=>{console.log("mousemove"),r||(r=!0,n.forEach((t,e)=>{let r=200*(e+1);t.removeAttribute("data-hidden"),t.style.transition=`top ${r}ms, left ${r}ms`}),Promise.all(Array.from(n).map((t,e)=>{var r,n;return r=t,n=180*(e+1),new Promise(t=>{let e=r.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(200%)",opacity:0}],{duration:800,delay:n});e.onfinish=()=>t(),e.oncancel=()=>t()})})).then(()=>{r=!1,n.forEach((t,e)=>{t.setAttribute("data-hidden","")})}));let e=t.clientX,a=t.offsetY;for(let l=0;l<n.length;l++){let i=n[l];i.style.left=`${e}px`,i.style.top=`${a}px`}})}()}})}(s)}),l}();i.appendChild(s)}(values.href,values.attribute)}();
